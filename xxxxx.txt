# ディレクトリ内のモデル定数を配列で取得
def get_models_from_csv(dir_path)

  proc_for_array = Proc.new do |path|
    basename_string = path[/.*(?=\.csv)/]
    table_sym = basename_string.pluralize.to_sym
    # テーブルがあれば、モデルを呼び出す
    $connection.table_exists?(table_sym) ? basename_string.classify.constantize : nil
  end

  value = Dir.children(dir_path).map(&proc_for_array).compact
  value.present? ? value : raise('CSVファイルに対応するモデルがあるか確認したか？今すぐしろ!')
end